<?xml version="1.0" encoding="EUC-KR" ?>
<service> 
    <method name="getApUserList">
		<![CDATA[
		 SELECT SIGN_PATH_SEQ
		    , PROCEEDING_FLAG 																					AS PROCEEDING_FLAG_CODE
		    , GETDEPTNAMELOC(HOUSE_CODE, COMPANY_CODE,GETUSERINFO(HOUSE_CODE, SIGN_USER_ID, 'DEPT')) 			AS DEPT_NAME
		    , GETUSERINFO(HOUSE_CODE, SIGN_USER_ID, 'POSITION')													AS POSITION
		    , GETUSERINFO(HOUSE_CODE, SIGN_USER_ID, 'MANAGER_POSITION')											AS MANAGER_POSITION
		    , GETICORCODE2(HOUSE_CODE, COMPANY_CODE, 'C002', GETUSERINFO(HOUSE_CODE, SIGN_USER_ID, 'POSITION')) AS POSITION_NAME
    		, GETICOMCODE2(HOUSE_CODE,'M107',GETUSERINFO(HOUSE_CODE, SIGN_USER_ID, 'MANAGER_POSITION'))    		AS MANAGER_POSITION_NAME
		 	, GETICOMCODE1(HOUSE_CODE, 'M119', PROCEEDING_FLAG) AS PROCEEDING_FLAG
		 	, SIGN_USER_ID
		 	, GETUSERNAME(HOUSE_CODE,SIGN_USER_ID,'LOC') AS SIGN_USER_NAME
		 /*	, GETICOMCODE1(HOUSE_CODE, 'M109', NVL(APP_STATUS,'P')) AS APP_STATUS  */
		 	, GETICOMCODE1(HOUSE_CODE, 'M109',DECODE(PROCEEDING_FLAG,'R','',NVL(APP_STATUS,'P'))) AS APP_STATUS
		 	, SIGN_REMARK
	 	    , CONVERT_DATE(SIGN_DATE) AS SIGN_DATE
    		, CONVERT_TIME(SIGN_TIME) AS SIGN_TIME
		 FROM ICOMSCTP
		 WHERE HOUSE_CODE = ${session.HOUSE_CODE}
		 	AND COMPANY_CODE = ${company_code}
		 	AND DOC_TYPE = ${doc_type}
		 	AND DOC_NO = ${doc_no}
		 	AND DOC_SEQ = ${doc_seq}
		 ORDER BY TO_NUMBER(SIGN_PATH_SEQ)
	]]>
	</method>
		
</service>